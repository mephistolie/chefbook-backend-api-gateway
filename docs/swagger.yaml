basePath: /
definitions:
  fail.Response:
    properties:
      error:
        type: string
      message:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.ChangePassword:
    properties:
      newPassword:
        type: string
      oldPassword:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.DeleteProfile:
    properties:
      password:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.Nickname:
    properties:
      nickname:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.OAuthCode:
    properties:
      code:
        type: string
      state:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.RefreshToken:
    properties:
      refreshToken:
        type: string
    required:
    - refreshToken
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.RequestPasswordReset:
    properties:
      email:
        type: string
      nickname:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.ResetPassword:
    properties:
      newPassword:
        type: string
      resetCode:
        type: string
      userId:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.SignIn:
    properties:
      email:
        type: string
      nickname:
        type: string
      password:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.SignUp:
    properties:
      email:
        type: string
      password:
        type: string
      userId:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.CheckNickname:
    properties:
      available:
        type: boolean
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Link:
    properties:
      link:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message:
    properties:
      message:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Session:
    properties:
      accessPoint:
        type: string
      accessTime:
        type: string
      current:
        type: boolean
      id:
        type: integer
      ip:
        type: string
      location:
        type: string
      mobile:
        type: boolean
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.SignUp:
    properties:
      activated:
        type: boolean
      message:
        type: string
      userId:
        type: string
    type: object
  github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Tokens:
    properties:
      accessToken:
        type: string
      expiresAt:
        type: string
      refreshToken:
        type: string
    type: object
host: api.chefbook.io
info:
  contact:
    email: support@chefbook.space
    name: ChefBook API Support
  description: ChefBook API Server
  title: ChefBook API
  version: "1.0"
paths:
  /v1/auth/activate:
    get:
      consumes:
      - application/json
      description: Activate profile
      parameters:
      - description: User ID
        in: query
        name: user_id
        required: true
        type: string
      - description: Activation code
        in: query
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Activate Profile
      tags:
      - auth
  /v1/auth/google:
    delete:
      consumes:
      - application/json
      description: Delete Google connection for profile
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Delete Google Connection
      tags:
      - auth
    post:
      consumes:
      - application/json
      description: Sign in to profile via Google Account
      parameters:
      - description: Code
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.OAuthCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Tokens'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Sign In Google
      tags:
      - auth
    put:
      consumes:
      - application/json
      description: Connect Google to existing profile
      parameters:
      - description: Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.OAuthCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Connect Google
      tags:
      - auth
  /v1/auth/google/request:
    get:
      consumes:
      - application/json
      description: Request Google OAuth link
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Link'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Request Google OAuth
      tags:
      - auth
  /v1/auth/nickname:
    get:
      consumes:
      - application/json
      description: Check profile nickname availability
      parameters:
      - description: Nickname
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.Nickname'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.CheckNickname'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Check Nickname Availability
      tags:
      - auth
      - profile
    post:
      consumes:
      - application/json
      description: Set profile nickname
      parameters:
      - description: Nickname
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.Nickname'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Set Nickname
      tags:
      - auth
      - profile
  /v1/auth/password:
    get:
      consumes:
      - application/json
      description: Request password reset
      parameters:
      - description: Profile identifier
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.RequestPasswordReset'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Request Password Reset
      tags:
      - auth
    post:
      consumes:
      - application/json
      description: Reset password
      parameters:
      - description: Code and new password
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.ResetPassword'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Reset Password
      tags:
      - auth
    put:
      consumes:
      - application/json
      description: Change password
      parameters:
      - description: Code and new password
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.ChangePassword'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Change Password
      tags:
      - auth
  /v1/auth/refresh:
    post:
      consumes:
      - application/json
      description: Refresh session to get new tokens pair
      parameters:
      - description: Refresh token
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.RefreshToken'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Tokens'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Refresh Session
      tags:
      - auth
  /v1/auth/sessions:
    delete:
      consumes:
      - application/json
      description: End selected sessions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: End Sessions
      tags:
      - auth
    get:
      consumes:
      - application/json
      description: Get profile active sessions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Session'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Get Sessions
      tags:
      - auth
  /v1/auth/sign-in:
    post:
      consumes:
      - application/json
      description: Sign in to profile
      parameters:
      - description: Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.SignIn'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Tokens'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Sign In
      tags:
      - auth
  /v1/auth/sign-out:
    post:
      consumes:
      - application/json
      description: Sign out and remove session
      parameters:
      - description: Refresh token
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.RefreshToken'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Sign Out
      tags:
      - auth
  /v1/auth/sign-up:
    post:
      consumes:
      - application/json
      description: Create new profile
      parameters:
      - description: Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.SignUp'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.SignUp'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Sign Up
      tags:
      - auth
  /v1/auth/vk:
    delete:
      consumes:
      - application/json
      description: Delete VK connection for profile
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Delete VK Connection
      tags:
      - auth
    post:
      consumes:
      - application/json
      description: Sign in to profile via VK Account
      parameters:
      - description: Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.OAuthCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Tokens'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Sign In VK
      tags:
      - auth
    put:
      consumes:
      - application/json
      description: Connect VK to existing profile
      parameters:
      - description: Credentials
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.OAuthCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Connect VK
      tags:
      - auth
  /v1/auth/vk/request:
    get:
      consumes:
      - application/json
      description: Request VK OAuth link
      parameters:
      - description: Display
        in: query
        name: display
        type: string
      - description: Response type
        in: query
        name: response_type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Link'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      summary: Request VK OAuth
      tags:
      - auth
  /v1/profile:
    delete:
      consumes:
      - application/json
      description: Delete profile
      parameters:
      - description: Profile password
        in: body
        name: input
        required: true
        schema:
          $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_request_body.DeleteProfile'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_mephistolie_chefbook-backend-api-gateway_internal_transport_http_dto_response_body.Message'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/fail.Response'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/fail.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/fail.Response'
      security:
      - ApiKeyAuth: []
      summary: Delete Profile
      tags:
      - auth
      - profile
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
